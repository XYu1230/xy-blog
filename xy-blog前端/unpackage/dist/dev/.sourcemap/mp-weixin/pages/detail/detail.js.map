{"version":3,"file":"detail.js","sources":["pages/detail/detail.vue","../../tools/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGV0YWlsL2RldGFpbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 博客详情 -->\r\n\t\t<view class=\"blog-detail card\" v-if=\"blog\">\r\n\t\t\t<view class=\"blog-header\">\r\n\t\t\t\t<text class=\"blog-title\">{{ blog.title }}</text>\r\n\t\t\t\t<view class=\"blog-info flex-row space-between align-center\">\r\n\t\t\t\t\t<view class=\"blog-author flex-row align-center\">\r\n\t\t\t\t\t\t<image :src=\"blog.author.avatar || '/static/default-avatar.png'\" class=\"author-avatar\"></image>\r\n\t\t\t\t\t\t<text class=\"author-name\">{{ blog.author.nickname }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"blog-time\">{{ formatTime(blog.createTime) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"blog-content\">\r\n\t\t\t\t<rich-text :nodes=\"blog.content\"></rich-text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"blog-footer flex-row space-between align-center\">\r\n\t\t\t\t<view class=\"blog-stats flex-row align-center\">\r\n\t\t\t\t\t<view class=\"stat-item flex-row align-center\" @click=\"handleLike\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" :class=\"blog.isLiked ? 'icon-like-filled' : 'icon-like'\"></text>\r\n\t\t\t\t\t\t<text class=\"stat-count\">{{ blog.likeCount || 0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"stat-item flex-row align-center\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-comment\"></text>\r\n\t\t\t\t\t\t<text class=\"stat-count\">{{ blog.commentCount || 0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"blog-tags\" v-if=\"blog.tags && blog.tags.length\">\r\n\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, tagIndex) in blog.tags\" :key=\"tagIndex\">{{\r\n            tag\r\n          }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 评论区 -->\r\n\t\t<view class=\"comment-section card\">\r\n\t\t\t<view class=\"section-title\">评论区 ({{ comments.length }})</view>\r\n\r\n\t\t\t<!-- 评论列表 -->\r\n\t\t\t<view class=\"comment-list\" v-if=\"comments.length > 0\">\r\n\t\t\t\t<view class=\"comment-item\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"comment-info flex-row space-between\">\r\n\t\t\t\t\t\t<view class=\"comment-author flex-row align-center\">\r\n\t\t\t\t\t\t\t<image :src=\"item.user.avatar || '/static/default-avatar.png'\" class=\"author-avatar\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t<text class=\"author-name\">{{ item.user.nickname }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"comment-time\">{{ formatTime(item.createTime) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comment-content\">\r\n\t\t\t\t\t\t<text>{{ item.content }}</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 删除评论按钮 (只有评论作者可见) -->\r\n\t\t\t\t\t<view class=\"comment-actions\" v-if=\"isCurrentUserComment(item)\">\r\n\t\t\t\t\t\t<text class=\"delete-btn\" @click=\"deleteComment(item)\">删除</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 暂无评论 -->\r\n\t\t\t<view class=\"empty-comment\" v-else>\r\n\t\t\t\t<text class=\"empty-text\">暂无评论，快来发表第一条评论吧</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 评论输入框 -->\r\n\t\t\t<view class=\"comment-input-container\">\r\n\t\t\t\t<textarea class=\"comment-input\" v-model=\"newComment\" placeholder=\"发表你的评论...\" maxlength=\"200\"\r\n\t\t\t\t\tauto-height></textarea>\r\n\t\t\t\t<view class=\"comment-submit\" @click=\"submitComment\">\r\n\t\t\t\t\t<text>发送</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { blogApi } from '@/api/index.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: null,\r\n\t\t\t\tblog: null,\r\n\t\t\t\tcomments: [],\r\n\t\t\t\tnewComment: '',\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\thasMoreComments: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.id) {\r\n\t\t\t\tthis.id = options.id;\r\n\t\t\t\tthis.fetchBlogDetail();\r\n\t\t\t\tthis.fetchComments();\r\n\t\t\t\t\r\n\t\t\t\t// 获取当前用户信息\r\n\t\t\t\tconst userInfo = uni.getStorageSync('user');\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\tthis.user = userInfo;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '参数错误',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t}, 1500);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取博客详情\r\n\t\t\tasync fetchBlogDetail() {\r\n\t\t\t\tthis.isLoading = true;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await blogApi.getBlogDetail(this.id);\r\n\t\t\t\t\tthis.blog = res.data;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取博客详情失败:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取博客详情失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取评论列表\r\n\t\t\tasync fetchComments(isRefresh = false) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await blogApi.getBlogComments(this.id, this.page, this.pageSize);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (isRefresh) {\r\n\t\t\t\t\t\tthis.comments = res.data.data || [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.comments = [...this.comments, ...(res.data.data || [])];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 判断是否还有更多评论\r\n\t\t\t\t\tthis.hasMoreComments = (res.data.data && res.data.data.length === this.pageSize);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取评论失败:', error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载更多评论\r\n\t\t\tloadMoreComments() {\r\n\t\t\t\tif (this.hasMoreComments) {\r\n\t\t\t\t\tthis.page++;\r\n\t\t\t\t\tthis.fetchComments();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 提交评论\r\n\t\t\tasync submitComment() {\r\n\t\t\t\tif (!this.newComment.trim()) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论内容不能为空',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.isSubmitting = true;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await blogApi.addComment(this.id, this.newComment);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 添加新评论到列表顶部\r\n\t\t\t\t\tthis.comments.unshift(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 清空输入框\r\n\t\t\t\t\tthis.newComment = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 更新评论数\r\n\t\t\t\t\tif (this.blog) {\r\n\t\t\t\t\t\tthis.blog.commentCount = (this.blog.commentCount || 0) + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('提交评论失败:', error);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isSubmitting = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 删除评论\r\n\t\t\tasync deleteComment(comment) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除这条评论吗？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tawait blogApi.deleteComment(comment.id);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 从列表中移除\r\n\t\t\t\t\t\t\t\tconst index = this.comments.findIndex(item => item.id === comment.id);\r\n\t\t\t\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\t\t\t\tthis.comments.splice(index, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 更新评论数\r\n\t\t\t\t\t\t\t\tif (this.blog) {\r\n\t\t\t\t\t\t\t\t\tthis.blog.commentCount = Math.max(0, (this.blog.commentCount || 1) - 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('删除评论失败:', error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理点赞\r\n\t\t\tasync handleLike() {\r\n\t\t\t\tif (!this.blog) return;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.blog.isLiked) {\r\n\t\t\t\t\t\t// 已点赞，取消点赞\r\n\t\t\t\t\t\tawait blogApi.unlikeBlog(this.id);\r\n\t\t\t\t\t\tthis.blog.isLiked = false;\r\n\t\t\t\t\t\tthis.blog.likeCount = Math.max(0, (this.blog.likeCount || 1) - 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 未点赞，添加点赞\r\n\t\t\t\t\t\tawait blogApi.likeBlog(this.id);\r\n\t\t\t\t\t\tthis.blog.isLiked = true;\r\n\t\t\t\t\t\tthis.blog.likeCount = (this.blog.likeCount || 0) + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('点赞操作失败:', error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(timestamp) {\r\n\t\t\t\tif (!timestamp) return '';\r\n\t\t\t\t\r\n\t\t\t\tconst date = new Date(timestamp);\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tconst diff = now - date;\r\n\t\t\t\t\r\n\t\t\t\t// 计算时间差\r\n\t\t\t\tconst minute = 60 * 1000;\r\n\t\t\t\tconst hour = 60 * minute;\r\n\t\t\t\tconst day = 24 * hour;\r\n\t\t\t\t\r\n\t\t\t\t// 小于1分钟\r\n\t\t\t\tif (diff < minute) {\r\n\t\t\t\t\treturn '刚刚';\r\n\t\t\t\t}\r\n\t\t\t\t// 小于1小时\r\n\t\t\t\tif (diff < hour) {\r\n\t\t\t\t\treturn Math.floor(diff / minute) + '分钟前';\r\n\t\t\t\t}\r\n\t\t\t\t// 小于1天\r\n\t\t\t\tif (diff < day) {\r\n\t\t\t\t\treturn Math.floor(diff / hour) + '小时前';\r\n\t\t\t\t}\r\n\t\t\t\t// 小于30天\r\n\t\t\t\tif (diff < 30 * day) {\r\n\t\t\t\t\treturn Math.floor(diff / day) + '天前';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 超过30天显示具体日期\r\n\t\t\t\tconst year = date.getFullYear();\r\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n\t\t\t\tconst dayStr = date.getDate().toString().padStart(2, '0');\r\n\t\t\t\treturn `${year}-${month}-${dayStr}`;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 判断是否是当前用户的评论\r\n\t\t\tisCurrentUserComment(comment) {\r\n\t\t\t\treturn this.user && comment.user && this.user.id === comment.user.id;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.blog-detail {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.blog-header {\r\n\t\tpadding-bottom: 20rpx;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.blog-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.blog-info {\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.author-avatar {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.author-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.blog-time {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.blog-content {\r\n\t\tpadding: 20rpx 0;\r\n\t\tfont-size: 30rpx;\r\n\t\tline-height: 1.8;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.blog-footer {\r\n\t\tpadding-top: 20rpx;\r\n\t\tborder-top: 1px solid #eee;\r\n\t}\r\n\r\n\t.stat-item {\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.icon-like-filled {\r\n\t\tcolor: #ff6b6b;\r\n\t}\r\n\r\n\t.stat-count {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-left: 6rpx;\r\n\t}\r\n\r\n\t.tag {\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tbackground-color: #f0f8ff;\r\n\t\tcolor: #007aff;\r\n\t\tborder-radius: 30rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.comment-section {\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tpadding-bottom: 15rpx;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\r\n\t.comment-item {\r\n\t\tpadding: 20rpx 0;\r\n\t\tborder-bottom: 1px solid #f5f5f5;\r\n\t}\r\n\r\n\t.comment-info {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.comment-author {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.comment-time {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.comment-content {\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 1.5;\r\n\t\tcolor: #333;\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.comment-actions {\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.delete-btn {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #ff6b6b;\r\n\t}\r\n\r\n\t.empty-comment {\r\n\t\tpadding: 40rpx 0;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.empty-text {\r\n\t\tcolor: #999;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.comment-input-container {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-shadow: 0 -2rpx 6rpx rgba(0, 0, 0, 0.1);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.comment-input {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 40rpx;\r\n\t\tpadding: 10rpx 30rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.comment-submit {\r\n\t\twidth: 120rpx;\r\n\t\theight: 70rpx;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 35rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/Hbuilder项目/myblog/pages/detail/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","blogApi"],"mappings":"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"}